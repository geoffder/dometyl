<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Wall (dometyl.Dometyl.Wall)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">dometyl</a> &#x00BB; <a href="../index.html">Dometyl</a> &#x00BB; Wall</nav><header class="odoc-preamble"><h1>Module <code><span>Dometyl.Wall</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-Steps"><a href="#module-Steps" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Steps/index.html">Steps</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Configuration type for number of steps used to draw the bezier curves that form the walls.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Drawer"><a href="#module-Drawer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Drawer/index.html">Drawer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Type providing a means to obtain the path from a particular point on the originating face of a wall and the ground.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-config"><a href="#type-config" class="anchor"></a><code><span><span class="keyword">type</span> config</span><span> = </span><span>{</span></code><ol><li id="type-config.d1" class="def record field anchored"><a href="#type-config.d1" class="anchor"></a><code><span>d1 : <span><span>[ <span>`Abs of float</span> <span><span>| `Rel</span> of float</span> ]</span> option</span>;</span></code></li><li id="type-config.d2" class="def record field anchored"><a href="#type-config.d2" class="anchor"></a><code><span>d2 : <span>float option</span>;</span></code></li><li id="type-config.clearance" class="def record field anchored"><a href="#type-config.clearance" class="anchor"></a><code><span>clearance : <span>float option</span>;</span></code></li><li id="type-config.n_steps" class="def record field anchored"><a href="#type-config.n_steps" class="anchor"></a><code><span>n_steps : <span><a href="Steps/index.html#type-t">Steps.t</a> option</span>;</span></code></li><li id="type-config.min_step_dist" class="def record field anchored"><a href="#type-config.min_step_dist" class="anchor"></a><code><span>min_step_dist : <span>float option</span>;</span></code></li><li id="type-config.scale" class="def record field anchored"><a href="#type-config.scale" class="anchor"></a><code><span>scale : <span><span class="xref-unresolved">OCADml</span>.V2.t option</span>;</span></code></li><li id="type-config.scale_ez" class="def record field anchored"><a href="#type-config.scale_ez" class="anchor"></a><code><span>scale_ez : <span><span>(<span class="xref-unresolved">OCADml</span>.V2.t * <span class="xref-unresolved">OCADml</span>.V2.t)</span> option</span>;</span></code></li><li id="type-config.end_z" class="def record field anchored"><a href="#type-config.end_z" class="anchor"></a><code><span>end_z : <span>float option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default"><a href="#val-default" class="anchor"></a><code><span><span class="keyword">val</span> default : <a href="#type-config">config</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><ol><li id="type-t.scad" class="def record field anchored"><a href="#type-t.scad" class="anchor"></a><code><span>scad : <span class="xref-unresolved">OSCADml</span>.Scad.d3;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Aggregate scad, including screw outshoot if included</p><span class="comment-delim">*)</span></div></li><li id="type-t.key" class="def record field anchored"><a href="#type-t.key" class="anchor"></a><code><span>key : <a href="../Key/index.html#type-t">Key.t</a>;</span></code></li><li id="type-t.side" class="def record field anchored"><a href="#type-t.side" class="anchor"></a><code><span>side : <span>[ `North <span>| `East</span> <span>| `South</span> <span>| `West</span> ]</span>;</span></code></li><li id="type-t.start" class="def record field anchored"><a href="#type-t.start" class="anchor"></a><code><span>start : <a href="../Points/index.html#type-t">Points.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Corner points of the <a href="../Key/Face/index.html#type-t"><code>Key.Face.t</code></a> this wall emerged from</p><span class="comment-delim">*)</span></div></li><li id="type-t.cleared" class="def record field anchored"><a href="#type-t.cleared" class="anchor"></a><code><span>cleared : <a href="../Points/index.html#type-t">Points.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Corner points of the swung (vertical) and cleared <code>start</code> face</p><span class="comment-delim">*)</span></div></li><li id="type-t.foot" class="def record field anchored"><a href="#type-t.foot" class="anchor"></a><code><span>foot : <a href="../Points/index.html#type-t">Points.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Terminal points where the wall meets the XY plane.</p><span class="comment-delim">*)</span></div></li><li id="type-t.drawer" class="def record field anchored"><a href="#type-t.drawer" class="anchor"></a><code><span>drawer : <a href="Drawer/index.html#type-t">Drawer.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Generate <code>Path3.t</code>s emerging from a point on the <code>start</code> face that follow along the same sweeping transforms as the wall.</p><span class="comment-delim">*)</span></div></li><li id="type-t.bounds_drawer" class="def record field anchored"><a href="#type-t.bounds_drawer" class="anchor"></a><code><span>bounds_drawer : <a href="Drawer/index.html#type-t">Drawer.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Same as drawer, but operating within the unrounded bounding corners of the face instead.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Record representing a wall extending from a <a href="../Key/Face/index.html#type-t"><code>Key.Face.t</code></a> to the ground.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-translate"><a href="#val-translate" class="anchor"></a><code><span><span class="keyword">val</span> translate : <span><span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-xtrans"><a href="#val-xtrans" class="anchor"></a><code><span><span class="keyword">val</span> xtrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ytrans"><a href="#val-ytrans" class="anchor"></a><code><span><span class="keyword">val</span> ytrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ztrans"><a href="#val-ztrans" class="anchor"></a><code><span><span class="keyword">val</span> ztrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rotate"><a href="#val-rotate" class="anchor"></a><code><span><span class="keyword">val</span> rotate : <span><span class="optlabel">?about</span>:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-xrot"><a href="#val-xrot" class="anchor"></a><code><span><span class="keyword">val</span> xrot : <span><span class="optlabel">?about</span>:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yrot"><a href="#val-yrot" class="anchor"></a><code><span><span class="keyword">val</span> yrot : <span><span class="optlabel">?about</span>:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-zrot"><a href="#val-zrot" class="anchor"></a><code><span><span class="keyword">val</span> zrot : <span><span class="optlabel">?about</span>:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-axis_rotate"><a href="#val-axis_rotate" class="anchor"></a><code><span><span class="keyword">val</span> axis_rotate : <span><span class="optlabel">?about</span>:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-quaternion"><a href="#val-quaternion" class="anchor"></a><code><span><span class="keyword">val</span> quaternion : <span><span class="optlabel">?about</span>:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.Quaternion.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scale"><a href="#val-scale" class="anchor"></a><code><span><span class="keyword">val</span> scale : <span><span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-xscale"><a href="#val-xscale" class="anchor"></a><code><span><span class="keyword">val</span> xscale : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yscale"><a href="#val-yscale" class="anchor"></a><code><span><span class="keyword">val</span> yscale : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-zscale"><a href="#val-zscale" class="anchor"></a><code><span><span class="keyword">val</span> zscale : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mirror"><a href="#val-mirror" class="anchor"></a><code><span><span class="keyword">val</span> mirror : <span><span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-affine"><a href="#val-affine" class="anchor"></a><code><span><span class="keyword">val</span> affine : <span><span class="xref-unresolved">OCADml</span>.Affine3.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-swing_face"><a href="#val-swing_face" class="anchor"></a><code><span><span class="keyword">val</span> swing_face : <span><a href="../Key/Face/index.html#type-t">Key.Face.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Key/Face/index.html#type-t">Key.Face.t</a></span></code></div><div class="spec-doc"><p><code>swing_face face</code></p><p>Find a rotation around <code>face</code>s bottom or top axis, depending on which way it is pointing in z (determined by <code>face.normal</code>), that brings <code>face</code> to a more vertical orientation, returning a pivoted <a href="../Key/Face/index.html#type-t"><code>Key.Face.t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : 
  <span><span class="optlabel">?clearance</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?n_steps</span>:<span>[&lt; <span>`Flat of int</span> <span><span>| `PerZ</span> of float</span> Flat ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?min_step_dist</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?d1</span>:<span>[ <span>`Abs of float</span> <span><span>| `Rel</span> of float</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?d2</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?scale</span>:<span class="xref-unresolved">OCADml</span>.V2.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?scale_ez</span>:<span>(<span class="xref-unresolved">OCADml</span>.V2.t * <span class="xref-unresolved">OCADml</span>.V2.t)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?end_z</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span>[ `East <span>| `North</span> <span>| `South</span> <span>| `West</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Key/index.html#type-t">Key.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>make side keyhole</code></p><p>Generate a <a href="#type-t"><code>t</code></a> using an OpenScad polyhedron, drawn from a set of bezier curves from the <code>side</code> facing edges of <code>keyhole</code>. Optional parameters influence the shape of the generated wall:</p><ul><li><code>clearance</code> moves the start of the wall out from the face of the keyhole</li><li><code>n_steps</code> controls the number of points used to draw the wall (see: <a href="Steps/index.html"><code>Steps</code></a>). This impact the aeshetics of the wall, but it also determines how well the wall follows the bezier curve, which can have implications for positioning the cutouts for ports near the bottom of the case. A number of steps that is too high can sometimes cause the generated polyhedrons to fail, as points can bunch up, leading to a mesh with intersecting faces that will cause the OpenScad engine (CGAL) to fail. When this happens, either decreasing number of steps (can be done preferentially for short walls with `PerZ), or increasing <code>d1</code> which will spread out the points at the beginning of the sweep (which is typically the most problematic) may help.</li><li><code>min_step_dist</code> sets the minimum distance that each profile (step) of the walls sweep must be away from the previous. To avoid self intersecting meshes, any steps that are closer than this minimum will be skipped.</li><li><code>d1</code> and <code>d2</code> set the distance projected outward along the orthogonal of the <code>side</code> of the <code>keyhole</code> on the xy-plane used to for the second and third quadratic bezier control points respectively.</li><li><code>scale</code> specifies width (<code>x</code>), and thickness (<code>y</code>) scaling to apply along the sweep of the projected wall (linearly, or easing according to <code>scale_ez</code>)</li><li><code>end_z</code> specifies the height above the xy plane the bezier sweep portion of the wall should end (from there dropping straight down to lie flat on the plane)</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_config"><a href="#val-of_config" class="anchor"></a><code><span><span class="keyword">val</span> of_config : <span><a href="#type-config">config</a> <span class="arrow">&#45;&gt;</span></span> <span><span>[ `East <span>| `North</span> <span>| `South</span> <span>| `West</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Key/index.html#type-t">Key.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_config conf side key</code></p><p>Same as <a href="#val-make"><code>make</code></a>, but parameters are passed via the <a href="#type-config"><code>config</code></a> type.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-start_direction"><a href="#val-start_direction" class="anchor"></a><code><span><span class="keyword">val</span> start_direction : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">OCADml</span>.V3.t</span></code></div><div class="spec-doc"><p><code>start_direction t</code></p><p>Direction vector from right to left of the wall start points.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-foot_direction"><a href="#val-foot_direction" class="anchor"></a><code><span><span class="keyword">val</span> foot_direction : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">OCADml</span>.V3.t</span></code></div><div class="spec-doc"><p><code>foot_direction t</code></p><p>Direction vector from right to left of the wall foot points.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_scad"><a href="#val-to_scad" class="anchor"></a><code><span><span class="keyword">val</span> to_scad : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">OSCADml</span>.Scad.d3</span></code></div></div></div></body></html>
