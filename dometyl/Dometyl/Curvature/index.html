<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Curvature (dometyl.Dometyl.Curvature)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">dometyl</a> &#x00BB; <a href="../index.html">Dometyl</a> &#x00BB; Curvature</nav><header class="odoc-preamble"><h1>Module <code><span>Dometyl.Curvature</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-well"><a href="#type-well" class="anchor"></a><code><span><span class="keyword">type</span> well</span></code></div><div class="spec-doc"><p>Description of a keywell column (distributed along circle on the yz-plane)</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fan"><a href="#type-fan" class="anchor"></a><code><span><span class="keyword">type</span> fan</span></code></div><div class="spec-doc"><p>Description of a fanned column (distributed along circle on the xy-plane)</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Column curvature to be applied to <a href="../Key/index.html#type-t"><code>Key.t</code></a>'s via <a href="#val-apply"><code>apply</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-well"><a href="#val-well" class="anchor"></a><code><span><span class="keyword">val</span> well : 
  <span>?tilt:float <span class="arrow">&#45;&gt;</span></span>
  <span>?tilt_correction:<span>(<span>xrot:float <span class="arrow">&#45;&gt;</span></span> <span>tilt:float <span class="arrow">&#45;&gt;</span></span> float)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>radius:float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-well">well</a></span></code></div><div class="spec-doc"><p><code>well ?tilt ?tilt_correction ~radius angle</code></p><p>Describe a column of keys distributed in increments of <code>angle</code> radians along a circle of the given <code>radius</code> on the yz-plane. If provided <code>tilt</code> will apply a y-axis rotation to the key before the x-axis rotation of the well curvature, effectively <i>tilting</i> inwards. This combination of rotations creates gaps between the keys, so by default, some counter z-axis rotation is applied. The default counter transformation can be overidden by <code>tilt_correction</code> (function from <code>xrot</code> and <code>tilt</code> radians to the radians to rotate around the z-axis).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fan"><a href="#val-fan" class="anchor"></a><code><span><span class="keyword">val</span> fan : <span>?tilt:float <span class="arrow">&#45;&gt;</span></span> <span>radius:float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-fan">fan</a></span></code></div><div class="spec-doc"><p><code>fan ?tilt ~radius angle</code></p><p>Describe a column of keys distributed in increments of <code>angle</code> radians along a circle of the given <code>radius</code> on the xy-plane. If provided <code>tilt</code> will apply a y-axis rotation to the key before the z-axis rotation of the fan curvature, effectively <i>tilting</i> inwards.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-curve"><a href="#val-curve" class="anchor"></a><code><span><span class="keyword">val</span> curve : <span>?well:<a href="#type-well">well</a> <span class="arrow">&#45;&gt;</span></span> <span>?fan:<a href="#type-fan">fan</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>curve ?well ?fan ()</code></p><p>Create a curvature <a href="#type-t"><code>t</code></a> with an (optional) combination of <code>well</code> and <code>fan</code> curvatures (see <a href="#val-well"><code>well</code></a> and <a href="#val-fan"><code>fan</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-custom"><a href="#val-custom" class="anchor"></a><code><span><span class="keyword">val</span> custom : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Key/index.html#type-t">Key.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Key/index.html#type-t">Key.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>custom f</code></p><p>Create a curvature <a href="#type-t"><code>t</code></a> with an arbitrary function <code>f</code> that transforms a <a href="../Key/index.html#type-t"><code>Key.t</code></a> to its desired placement along the column depending on the given row index.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pre_tweak"><a href="#val-pre_tweak" class="anchor"></a><code><span><span class="keyword">val</span> pre_tweak : <span>?well:<a href="#type-well">well</a> <span class="arrow">&#45;&gt;</span></span> <span>?fan:<a href="#type-fan">fan</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Key/index.html#type-t">Key.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Key/index.html#type-t">Key.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>pre_tweak ?well ?fan custom</code></p><p>Compose a curvature <a href="#type-t"><code>t</code></a> that will sequentialy apply and arbitrary function (see <a href="#val-custom"><code>custom</code></a>) followed by standard well/fan <a href="#val-curve"><code>curve</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-post_tweak"><a href="#val-post_tweak" class="anchor"></a><code><span><span class="keyword">val</span> post_tweak : <span>?well:<a href="#type-well">well</a> <span class="arrow">&#45;&gt;</span></span> <span>?fan:<a href="#type-fan">fan</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Key/index.html#type-t">Key.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Key/index.html#type-t">Key.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>post_tweak ?well ?fan custom</code></p><p>Compose a curvature <a href="#type-t"><code>t</code></a> that will sequentialy apply a standardy well/fan <a href="#val-curve"><code>curve</code></a> followed by an arbitrary function (see <a href="#val-custom"><code>custom</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mix"><a href="#val-mix" class="anchor"></a><code><span><span class="keyword">val</span> mix : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>mix f</code></p><p>Lift a function from row index to curvature <a href="#type-t"><code>t</code></a> into a <a href="#type-t"><code>t</code></a>. Useful for describing a column which follows a more/less extreme curvature on either side of the central row.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span><span class="keyword">val</span> apply : <span>centre_idx:float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Key/index.html#type-t">Key.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Key/index.html#type-t">Key.t</a></span></code></div><div class="spec-doc"><p><code>apply ~centre_idx t idx key</code></p><p>Apply the column curvature <code>t</code> to the <code>key</code> at row <code>idx</code>, around the <code>centre_idx</code> of the column (given as a float, such that it can lie between rows).</p></div></div></div></body></html>